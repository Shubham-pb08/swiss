<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Recipe Book |Swiss Chalet</title>

    <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
    <link rel="manifest" href="icon/site.webmanifest">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Work+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        
        <link rel="stylesheet" href="css/style.css"/>
</head>

<body>


    <!-- HEADER -->

    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid">
          <div class="logo-container">
            <img src="img/logo.svg" alt="Logo"/>
          </div>

          <div class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn search-button" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
          </div>
        </div>
      </nav>

    <!-- INGREDIENT MODAL -->
    <div class="modal fade" id="recipe-card_modal" data-backdrop="static" data-keyboard="false" tabindex="-1"
        aria-labelledby="recipe-card_modal_label" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="recipe-card_modal_label"></h5>
                    <button type="button" id="closeBtn" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <table class="table" id="datatable">
                        <thead>
                            <tr>
                                <th scope="col">Ingredients</th>
                                <th scope="col">Quantity</th>
                            </tr>
                        </thead>
                        <tbody id="show_data"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- CARDS NAVS -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 order-1">
              <div class="nav nav-pills container" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <button class="nav-link active" id="v-pills-chickenribs-tab" data-toggle="pill" data-target="#v-pills-chickenribs" type="button" role="tab" aria-controls="v-pills-chickenribs" aria-selected="true">Chicken & Ribs</button>
                <button class="nav-link" id="v-pills-sbw-tab" data-toggle="pill" data-target="#v-pills-sbw" type="button" role="tab" aria-controls="v-pills-sbw" aria-selected="false">Sandwich & Burgers</button>
                <button class="nav-link" id="v-pills-entree-tab" data-toggle="pill" data-target="#v-pills-entree" type="button" role="tab" aria-controls="v-pills-entree" aria-selected="false">Entrees</button>
              </div>
            </div>
            <div class="col-12 order-2">
              <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="v-pills-chickenribs" role="tabpanel" aria-labelledby="v-pills-chickenribs-tab">
                    <div class="container item-container chickenribs-container bg-success" data-id="chickenribs">
                        <div class="row bg-danger">
                
                        </div>
                    </div>
                </div>
    
                <div class="tab-pane fade" id="v-pills-sbw" role="tabpanel" aria-labelledby="v-pills-sbw-tab">
                    <div class="container item-container entrees-container bg-success" data-id="entree">
                        <div class="row bg-danger">
                
                        </div>
                    </div>
                </div>
    
                <div class="tab-pane fade" id="v-pills-entree" role="tabpanel" aria-labelledby="v-pills-entree-tab">
                    <div class="container item-container sbw-container bg-success" data-id="sbw">
                        <div class="row bg-danger">
                
                        </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
    </div>


    <script src="data.js" type="text/javascript"></script>

    <script>

        let showData = document.querySelector('#show_data');
        let modalImage = document.querySelector('#dataimg');
        let modalHeading = document.querySelector('#recipe-card_modal_label');
        let container = document.querySelector('.item-container .row');
        let closeBtn = document.querySelector('#closeBtn');

        let sbwContainer = document.querySelector('.sbw-container .row');
        let entreeContainer = document.querySelector('.entree-container .row');
        let chickenribsContainer = document.querySelector('.chickenribs-container .row');

        showData.innerHTML = '';
        let cardElement = '';
        let recipeIngs = '';

        for (let i in recipes[0].chickenribs) {
                cardElement += `
                <div class="col-12 col-sm-12 col-md-4 col-lg-4">
                    <div class="card recipe-card" data-toggle="modal" id="${i}" data-target="#recipe-card_modal">
                    <div class="recipe-card-img-container">
                        <img src="img/potpie.png" alt="image"/>
                    </div>
        
                    <div class="recipe-card-content">
                        <h1 class="recipe-card-heading">${recipes[0].chickenribs[i].item_name}</h1>
                        <hr/>

                        <div class="indicator-container">
                            <!-- indicator row -->
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-6 recipe-card-indicators">
                                    <div class="recipe-time">
                                        <!-- indicator sub-row -->
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6 time-icon">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 24 24" fill="none"><path d="M12 7V12H15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6 time-text">
                                                <span>20</span>
                                            </div>
                                        </div>
                                        <!-- indicator sub-row ends -->
                                        <span>Minutes</span>
                                    </div>
                                </div>
    
                                <div class="col-lg-6 col-md-6 col-sm-6 col-6 recipe-card-indicators">
                                    <div class="recipe-ing">
                                        <!-- indicator sub-row -->
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6 book-icon">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 24 24" fill="none"><path d="M4 19V6.2C4 5.0799 4 4.51984 4.21799 4.09202C4.40973 3.71569 4.71569 3.40973 5.09202 3.21799C5.51984 3 6.0799 3 7.2 3H16.8C17.9201 3 18.4802 3 18.908 3.21799C19.2843 3.40973 19.5903 3.71569 19.782 4.09202C20 4.51984 20 5.0799 20 6.2V17H6C4.89543 17 4 17.8954 4 19ZM4 19C4 20.1046 4.89543 21 6 21H20M9 7H15M9 11H15M19 17V21" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-6 book-text">
                                                <span>${Object.keys(recipes[0].chickenribs[i].item_desc).length}</span>
                                            </div>
                                        </div>
                                        <!-- indicator sub-row ends -->
                                        <span>Ingredients</span>
                                    </div>
                                </div>
                            </div>
                            <!-- indicator row ends -->
                        </div>

                        <p class="recipe-desc text-center body-font">this is the random line for the description. This will be fixed later on.</p>

                        <div class="recipe-btn-container">
                            <button id="recipe-modal-cta" class="recipe-btn">View Recipe</button>
                        </div>
                    </div>
                </div>
                </div>
                `;

                chickenribsContainer.innerHTML = cardElement;
            }         
            
            chickenribsContainer.addEventListener('click',(e)=> {
                
                recipeIngs = '';
                let currentCard = e.target.closest('.card').id;

                modalHeading.innerHTML = recipes[0].chickenribs[currentCard].item_name;

                for(let j in recipes[0].chickenribs[currentCard].item_desc) {
                    recipeIngs += 
                    `
                        <tr>
                            <td>${recipes[0].chickenribs[currentCard].item_desc[j].name}</td>
                            <td>${recipes[0].chickenribs[currentCard].item_desc[j].qnt}</td>
                        </tr>
                    `;
                }

                showData.innerHTML = recipeIngs;
            });
    </script>



<script src="https://kit.fontawesome.com/8673ecdfaf.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
</body>

</html>
